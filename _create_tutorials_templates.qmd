---
title: Create Tutorial Templates ()
---

Running is code will take all the `.ipynb` notebooks in a folder and copy them to a template folder after removing all code from within the code chunks. It works for specific folders now, and is written in R and bash, but can be generalized further. Thank you Jacqueline Nolis for the code examples: <https://twitter.com/skyetetra/status/1454472378243698694>


```{r}
## libraries
library(tidyverse) ## install.packages(tidyverse)
library(here) ## install.packages(here)

## list all tutorials
ipynb_files <- list.files(here("tutorials"), pattern = ".ipynb")


## for loop
for (f in ipynb_files) {  ## f = ipynb_files[1]
  f2 <- tools::file_path_sans_ext(f)
  
  ## convert to .qmd in template directory
  system(sprintf("quarto convert tutorials/%s.ipynb --output tutorials-templates/%s.qmd", f2, f2))
  
  ## remove code from code chunks, overwrite the .qmd
  read_file(sprintf("tutorials-templates/%s.qmd", f2)) %>%
    str_replace_all("```\\{python(.*)\\}[\\S\\s]*?```","```\\{python\\1\\}\n#\n\n```") %>%
    write_file(sprintf("tutorials-templates/%s.qmd", f2))
  
  ## convert template to .ipynb
  system(sprintf("quarto convert tutorials-templates/%s.qmd --output tutorials-templates/%s.ipynb", f2, f2))
  
  ## delete temporary .qmd
  file.remove(sprintf("tutorials-templates/%s.qmd", f2))
  
}


```

